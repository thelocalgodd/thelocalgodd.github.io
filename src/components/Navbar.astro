---
import "../styles/style.css";

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---

<nav>
  <ul
    class="flex justify-start mx-4 md:mx-0 text-sm mt-1 md:mt-0 transition-all gap-4"
  >
    <li class="flex items-center justify-center rounded-full">
      <a href="/" id={currentPath === "" ? "active" : ""}>
        {currentPath === "" ? "ğŸ›– home" : "home"}
      </a>
    </li>

    <li class="flex items-center justify-center rounded-full">
      <a
        href="/projects"
        id={currentPath.startsWith("projects") ? "active" : ""}
      >
        {currentPath.startsWith("projects") ? "ğŸ‘©â€ğŸ’» projects" : "projects"}
      </a>
    </li>

    <li class="flex items-center justify-center rounded-3xl">
      <a
        href="/blog"
        id={currentPath.startsWith("blog") || currentPath.startsWith("posts")
          ? "active"
          : ""}
      >
        {
          currentPath.startsWith("blog") || currentPath.startsWith("posts")
            ? "ğŸ“– blog"
            : "blog"
        }
      </a>
    </li>
  </ul>
</nav>

<style>
  li #active {
    display: inline-block;
    border-radius: 0.5rem;
    border: 1px solid rgb(34, 197, 94);
    background-color: rgba(34, 197, 94, 0.1);
    color: rgb(21, 128, 61);
    padding: 0.25rem 0.5rem;
    transition: all 0.3s ease;
  }

  :root.dark li #active {
    border-color: rgb(34, 197, 94);
    background-color: rgba(34, 197, 94, 0.15);
    color: rgb(74, 222, 128);
  }
</style>
