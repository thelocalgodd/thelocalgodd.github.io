---
import "../styles/style.css";

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---

<nav>
  <ul
    class="flex justify-start mx-4 md:mx-0 text-sm mt-1 md:mt-0 transition-all gap-4"
  >
    <li class="flex items-center justify-center rounded-full">
      <a href="/" id={currentPath === "" ? "active" : ""}>
        {currentPath === "" ? "ğŸ›– home" : "home"}
      </a>
    </li>

    <li class="flex items-center justify-center rounded-full">
      <a
        href="/projects"
        id={currentPath.startsWith("projects") ? "active" : ""}
      >
        {currentPath.startsWith("projects") ? "ğŸ‘©â€ğŸ’» projects" : "projects"}
      </a>
    </li>

    <li class="flex items-center justify-center rounded-3xl">
      <a
        href="/blog"
        id={currentPath.startsWith("blog") || currentPath.startsWith("posts")
          ? "active"
          : ""}
      >
        {
          currentPath.startsWith("blog") || currentPath.startsWith("posts")
            ? "ğŸ“– blog"
            : "blog"
        }
      </a>
    </li>
  </ul>
</nav>

<style>
  :root {
    --light-blue: rgb(219 234 254);
    --light-blue-border: rgb(191 219 254);
    --dark-green: rgb(22 101 52);
    --dark-green-border: rgb(0, 184, 67);
  }

  li #active {
    display: inline-block;
    border-radius: 0.5rem;
    border: 1px solid var(--light-blue-border);
    background-color: var(--light-blue);
    opacity: 0.8;
    padding: -0 0.5rem;
  }

  @media (prefers-color-scheme: dark) {
    li #active {
      border-color: var(--dark-green-border);
      background-color: var(--dark-green);
      color: rgb(34 197 94);
    }
  }
</style>
